%%% REMEMBER TO COMPILE WITH LuaLaTeX! %%%

%%% From https://tex.stackexchange.com/questions/94582/automating-the-creation-of-name-badges-for-an-event

%%% use the corresponding paper size for your ticket definition
\documentclass[a4paper,10pt,landscape]{letter}
% \usepackage[top=0cm,left=0cm]{geometry}
% \setlength{\topskip}{0pt}

\usepackage{graphicx}
% \usepackage{mfirstuc} % word capitalisation
\usepackage{tikz}
\usepackage[inkscapelatex=false]{svg}

%%% choose ticket.sty from ticket package's template for conference pins
\usepackage[freepin,crossmark]{ticket}
\unitlength=1mm
\ticketSize{90}{170}
\ticketDistance{0}{0}
\ticketNumbers{3}{1}

%%% Select font
\usepackage{fontspec}
\setmainfont{Andale Mono}

% ---------------------- % 

%%% make your default ticket. \ticketdefault is somewhat like a background
\renewcommand{\ticketdefault}{
  % \put(1,95){\includegraphics[width=88mm]{../graphics/cybo_2025/BC_1_noqr.svg}}
  % \put(1,75){\includegraphics[width=88mm,angle=180]{../graphics/cybo_2025/BC_1_noqr.svg}}
  % \put(1,75){\includesvg[width=88mm]{../graphics/cybo_2025/BC_1_noqr.svg}}
  % \put(1,5){\includesvg[width=88mm,angle=180]{../graphics/cybo_2025/BC_1_noqr.svg}}
}

%%% define function that prints the two fields - v3
\newcommand{\confpin}[3]{\ticket{
    % ---------------------- % 
    %%% Background image
    \put(1,85){\includesvg[width=88mm]{../graphics/cybo_2025/#3}}
    \put(1,85){\rotatebox{180}{\includesvg[width=88mm]{../graphics/cybo_2025/#3}}}
    % ---------------------- % 
    %%% Vanilla parbox, w/ hack...
    \put(24.75,144.75){\parbox{.50\linewidth}{\bfseries\Huge\raggedleft \textcolor{white}{#1}}} % name
    \put(25,145){\parbox{.50\linewidth}{\bfseries\Huge\raggedleft #1}} % name
    \put(29.825,124.825){\parbox{.45\linewidth}{\bfseries\large\raggedleft \textcolor{white}{#2}}} % affiliation
    \put(30,125){\parbox{.45\linewidth}{\bfseries\large\raggedleft #2}} % affiliation
    % ---------------------- % 
    % Dotted lines, etc.
    \put(42.5,5){\tikz[fill=none,draw=gray] \draw [dash dot] (0,0) circle (2.5mm) node [xshift=0mm] {};} % bottom circle
    % \put(0,15){\tikz[baseline=-0.5ex,draw=gray] \draw [dash dot] (1mm,0) -- (89mm,0);} % top line
    \put(0,85){\tikz[baseline=-0.5ex,draw=gray] \draw [dash dot] (1mm,0) -- (89mm,0);} % middle line
    % \put(0,155){\tikz[baseline=-0.5ex,draw=gray] \draw [dash dot] (1mm,0) -- (89mm,0);} % bottom line
    \put(42.5,160){\tikz[fill=none,draw=gray] \draw [dash dot] (0,0) circle (2.5mm) node [xshift=0mm] {};} % top circle
    % ---------------------- % 
    %%% Vanilla parbox, flipped, w/ hack...
    \put(5.125,45.125){\rotatebox{180}{\parbox{.45\linewidth}{\bfseries\large\raggedleft \textcolor{white}{#2}}}} % affiliation, specular
    \put(5,45){\rotatebox{180}{\parbox{.45\linewidth}{\bfseries\large\raggedleft #2}}} % affiliation, specular
    \put(5.25,25.25){\rotatebox{180}{\parbox{.50\linewidth}{\bfseries\Huge\raggedleft \textcolor{white}{#1}}}} % name, specular
    \put(5,25){\rotatebox{180}{\parbox{.50\linewidth}{\bfseries\Huge\raggedleft #1}}} % name, specular
    }}

%%% grab the \confpin bit from here: 
%%% https://docs.google.com/spreadsheets/d/1rASq-GHYglUGBy9cxT3poznBz1c4UOBVyVqRLF1JGeI/edit#gid=610836843

% ---------------------- % 

%%% 
\begin{document}

% \pagenumbering{roman}

% \sffamily

\confpin{ }{ }{BC_1_noqr.svg}
\confpin{ }{ }{BC_2_noqr.svg}
\confpin{ }{ }{BC_3_noqr.svg}


\end{document}